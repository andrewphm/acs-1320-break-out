(()=>{"use strict";const t=class{constructor(t=0,i=0,s=100,h=100,e="#f00"){this.x=t,this.y=i,this.width=s,this.height=h,this.color=e}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}},i=class extends t{constructor(t,i,s,h=75,e=20,d="#0095DD"){super(i,s,h,e,d),this.status=1,this.ctx=t}render(){this.ctx.beginPath(),this.ctx.rect(this.x,this.y,this.width,this.height),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.closePath()}},s=class extends t{},h=class extends t{constructor(t=0,i=0,s=10,h="#0095DD"){super(t,i,0,0,h),this.radius=s}move(t,i){this.x+=t,this.y+=i}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},e=document.getElementById("myCanvas"),d=e.getContext("2d"),r=["red","green","purple"],l=[];for(let t=0;t<5;t++){l[t]=[];for(let s=0;s<3;s++)l[t][s]=new i(d,0,0,75,20,r[s])}const c=new class{constructor(t=0){this.score=t}render(t){t.font="16px Arial",t.fillStyle="red",t.fillText(`Score: ${this.score}`,8,20)}update(t){this.score+=t}reset(){this.score=0}}(0),o=new class{constructor(t){this.lives=t,this.defaultLives=t}render(t,i){t.beginPath(),t.font="16px Arial",t.fillStyle="red",t.fillText(`Lives: ${this.lives}`,i-65,20),t.closePath()}loseLife(){this.lives-=1}reset(){this.lives=this.defaultLives}}(3),a=new class{constructor(t,i,s){this.color=t,this.width=i,this.height=s}render(t){t.beginPath(),t.rect(0,0,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}("black",e.width,e.height),n=new class{constructor(t,i,s,h,e,d,r){this.bricks=t,this.score=i,this.lives=s,this.ctx=h,this.width=e,this.height=d,this.background=r,this.x=e/2,this.y=d-30,this.dx=2,this.dy=-2,this.ballRadius=10,this.brickRowCount=3,this.brickColumnCount=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.paddleHeight=10,this.paddleWidth=75,this.paddleX=(this.width-this.paddleWidth)/2,this.rightPressed=!1,this.leftPressed=!1}draw(){const t=new h(this.x,this.y,this.ballRadius,"black");this.ctx.clearRect(0,0,this.width,this.height),this.drawBricks(),this.drawPaddle(),t.render(this.ctx),t.move(this.dx,this.dy),this.score.render(this.ctx),this.lives.render(this.ctx,this.width),this.collisionDetection(),this.rightPressed?this.paddleX+=4:this.leftPressed&&(this.paddleX-=4),this.rightPressed?this.paddleX=Math.min(this.paddleX+4,this.width-this.paddleWidth):this.leftPressed&&(this.paddleX=Math.max(this.paddleX-4,0)),(this.x+this.dx>this.width-this.ballRadius||this.x+this.dx<this.ballRadius)&&(this.dx=-this.dx),this.y+this.dy<this.ballRadius?this.dy=-this.dy:this.y+this.dy>this.height-this.ballRadius&&(this.x>this.paddleX&&this.x<this.paddleX+this.paddleWidth?this.dy=-this.dy:(this.lives.loseLife(),0===this.lives.lives?(alert("GAME OVER"),document.location.reload(),requestAnimationFrame((()=>this.draw()))):(this.x=this.width/2,this.y=this.height-30,this.dx=2,this.dy=-2,this.paddleX=(this.width-this.paddleWidth)/2))),this.x+=this.dx,this.y+=this.dy,requestAnimationFrame((()=>this.draw()))}drawBricks(){for(let t=0;t<this.brickColumnCount;t++)for(let i=0;i<this.brickRowCount;i++)if(1===this.bricks[t][i].status){const s=t*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,h=i*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[t][i].x=s,this.bricks[t][i].y=h,this.bricks[t][i].render()}}drawPaddle(){new s(this.paddleX,this.height-this.paddleHeight,this.paddleWidth,this.paddleHeight,"black").render(this.ctx)}collisionDetection(){for(let t=0;t<this.brickColumnCount;t++)for(let i=0;i<this.brickRowCount;i++){const s=this.bricks[t][i];1===s.status&&this.x>s.x&&this.x<s.x+this.brickWidth&&this.y>s.y&&this.y<s.y+this.brickHeight&&(this.dy=-this.dy,s.status=0,this.score.update(1),this.score.score===this.brickRowCount*this.brickColumnCount&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload(),requestAnimationFrame((()=>this.draw()))))}}}(l,c,o,d,e.width,e.height,a);n.draw(),document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?n.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(n.leftPressed=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?n.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(n.leftPressed=!1)}),!1),document.addEventListener("mousemove",(function(t){const i=t.clientX-e.offsetLeft;i>0&&i<e.width&&(n.paddleX=i-n.paddleWidth/2)}),!1)})();